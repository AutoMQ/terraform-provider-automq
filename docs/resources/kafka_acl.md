---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "automq_kafka_acl Resource - automq"
subcategory: ""
description: |-
  Using the automq_kafka_acl resource type, you can create and manage Kafka ACL rules.
  Note: This provider version is only compatible with AutoMQ control plane versions 8.0 and later.
---

# automq_kafka_acl (Resource)

![Preview](https://img.shields.io/badge/Lifecycle_Stage-Preview-blue?style=flat&logoColor=8A3BE2&labelColor=rgba)

Using the `automq_kafka_acl` resource type, you can create and manage Kafka ACL rules.

> **Note**: This provider version is only compatible with AutoMQ control plane versions 8.0 and later.

## Example Usage

```terraform
variable "environment_id" {
  type = string
}

variable "kafka_instance_id" {
  type = string
}

resource "automq_kafka_acl" "topic" {
  environment_id    = var.environment_id
  kafka_instance_id = var.kafka_instance_id

  resource_type   = "TOPIC"
  resource_name   = "orders"
  pattern_type    = "LITERAL"
  principal       = "User:orders-writer"
  operation_group = "PRODUCE"
  permission      = "ALLOW"
}

resource "automq_kafka_acl" "group" {
  environment_id    = var.environment_id
  kafka_instance_id = var.kafka_instance_id

  resource_type   = "GROUP"
  resource_name   = "orders-consumers"
  pattern_type    = "PREFIXED"
  principal       = "User:orders-reader"
  operation_group = "ALL"
  permission      = "ALLOW"
}

resource "automq_kafka_acl" "cluster" {
  environment_id    = var.environment_id
  kafka_instance_id = var.kafka_instance_id

  resource_type   = "CLUSTER"
  resource_name   = "kafka-cluster"
  pattern_type    = "LITERAL"
  principal       = "User:platform-admin"
  operation_group = "ALL"
  permission      = "ALLOW"
}

resource "automq_kafka_acl" "transaction" {
  environment_id    = var.environment_id
  kafka_instance_id = var.kafka_instance_id

  resource_type   = "TRANSACTIONAL_ID"
  resource_name   = "payments-tx"
  pattern_type    = "LITERAL"
  principal       = "User:payments-service"
  operation_group = "ALL"
  permission      = "DENY"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String) Target AutoMQ BYOC environment, this attribute is specified during the deployment and installation process.
- `kafka_instance_id` (String) Target Kafka instance ID, each instance represents a kafka cluster. The instance id looks like kf-xxxxxxx.
- `operation_group` (String) Set the authorized operation group. For the Topic resource type, the supported operations are `ALL` (all permissions), `PRODUCE` (produce messages only), and `CONSUME` (consume messages only). For other resource types, only `ALL` (all permissions) is supported.
- `pattern_type` (String) Set the resource name matching pattern, supporting `LITERAL` and `PREFIXED`. `LITERAL` represents exact matching, while `PREFIXED` represents prefix matching.
- `principal` (String) Set the authorized target principal, which currently supports Kafka User type principals, i.e., `User:xxxx`. Specify the Kafka user name. Principal must start with `User:` and contact with `kafka_user`.
- `resource_name` (String) The target resource name for Kafka ACL authorization, can be a specific resource name or a resource name prefix (when using prefix matching, only the prefix needs to be provided without ending with `*`). If only `*` is specified, it represents all resources.
- `resource_type` (String) The Kafka ACL authorized resource types, currently support `CLUSTER`, `TOPIC`, `GROUP` and `TRANSACTIONAL_ID`.

### Optional

- `permission` (String) Set the permission type, which supports `ALLOW` and `DENY`. Default value is `ALLOW`. `ALLOW` grants permission to perform the operation, while `DENY` prohibits the operation. `DENY` takes precedence over `ALLOW`.

### Read-Only

- `id` (String) The Kafka ACL Resource ID is returned upon successful creation of the ACL.
