---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "automq_integration Resource - automq"
subcategory: ""
description: |-
  AutoMQ uses automq_integration to describe external third-party data transmission. By creating integrations and associating them with AutoMQ instances, you can forward instance Metrics and other data to external systems. Currently supported integration types are Prometheus and CloudWatch.
---

# automq_integration (Resource)

![Preview](https://img.shields.io/badge/Lifecycle_Stage-Preview-blue?style=flat&logoColor=8A3BE2&labelColor=rgba)<br><br>AutoMQ uses `automq_integration` to describe external third-party data transmission. By creating integrations and associating them with AutoMQ instances, you can forward instance Metrics and other data to external systems. Currently supported integration types are Prometheus and CloudWatch.

## Example Usage

```terraform
resource "automq_integration" "example-1" {
  environment_id = "env-example"
  name           = "example-1"
  type           = "cloudWatch"
  cloudwatch_config = {
    namespace = "example"
  }
}

resource "automq_integration" "example-2" {
  environment_id = "env-example"
  name           = "example-2"
  type           = "prometheus"
  endpoint       = "http://xxxxx.xxx"
}

resource "automq_integration" "example-3" {
  environment_id = "env-example"
  name           = "example-3"
  type           = "prometheus_remote_write"
  endpoint       = "http://xxxxx.xxx"
  prometheus_remote_write_config = {
    auth_type = "basic"
    username  = "username"
    password  = "password"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String) Target AutoMQ BYOC environment, this attribute is specified during the deployment and installation process.
- `name` (String) The integrated name identifies different configurations and contains 3 to 64 characters, including letters a to z or a to z, digits 0 to 9, underscores (_), and hyphens (-).
- `type` (String) Type of integration, currently supports `prometheus`, `prometheus_remote_write`, and `cloudwatch`.

### Optional

- `cloudwatch_config` (Attributes) CloudWatch integration configurations. When Type is `cloudwatch`, it must be set. (see [below for nested schema](#nestedatt--cloudwatch_config))
- `endpoint` (String) Endpoint of integration. When selecting Prometheus and Kafka integration, you need to configure the corresponding endpoints. For detailed configuration instructions, please refer to the [documentation](https://docs.automq.com/automq-cloud/manage-environments/byoc-environment/manage-integrations).
- `prometheus_remote_write_config` (Attributes) Prometheus remote write integration configurations. When Type is `prometheus_remote_write`, it must be set. (see [below for nested schema](#nestedatt--prometheus_remote_write_config))

### Read-Only

- `created_at` (String)
- `id` (String) Integration identifier, Used for binding and association with the instance.
- `last_updated` (String)

<a id="nestedatt--cloudwatch_config"></a>
### Nested Schema for `cloudwatch_config`

Optional:

- `namespace` (String) Set cloudwatch namespace, AutoMQ will write all Metrics data under this namespace. The namespace name must contain 1 to 255 valid ASCII characters and may be alphanumeric, periods, hyphens, underscores, forward slashes, pound signs, colons, and spaces, but not all spaces.


<a id="nestedatt--prometheus_remote_write_config"></a>
### Nested Schema for `prometheus_remote_write_config`

Optional:

- `auth_type` (String) Authentication type, currently supports `noauth`, `basic`, `bearer`, and `sigv4`.
- `bearer_token` (String) Bearer token for bearer authentication. When authType is `bearer`, it must be set.
- `password` (String) Password for basic authentication. When authType is `basic`, it must be set.
- `username` (String) Username for basic authentication. When authType is `basic`, it must be set.
