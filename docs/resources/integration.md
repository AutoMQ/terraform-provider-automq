---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "automq_integration Resource - automq"
subcategory: ""
description: |-
  AutoMQ uses automq_integration to describe external third-party data transmission. By creating integrations and associating them with AutoMQ instances, you can forward instance Metrics and other data to external systems. Currently supported integration types are Prometheus and CloudWatch.
---

# automq_integration (Resource)

![General_Availability](https://img.shields.io/badge/Lifecycle_Stage-General_Availability(GA)-green?style=flat&logoColor=8A3BE2&labelColor=rgba)<br><br>AutoMQ uses `automq_integration` to describe external third-party data transmission. By creating integrations and associating them with AutoMQ instances, you can forward instance Metrics and other data to external systems. Currently supported integration types are Prometheus and CloudWatch.

## Example Usage

```terraform
resource "automq_integration" "example-1" {
  environment_id = "env-example"
  name           = "example-1"
  type           = "cloudWatch"
  cloudwatch_config = {
    namespace = "example"
  }
}

resource "automq_integration" "example-2" {
  environment_id = "env-example"
  name           = "example-2"
  type           = "kafka"
  endpoint       = "http://xxxxx.xxx"
  kafka_config = {
    security_protocol = "SASL_PLAINTEXT"
    sasl_mechanism    = "PLAIN"
    sasl_username     = "example"
    sasl_password     = "example"
  }
}

resource "automq_integration" "example-3" {
  environment_id = "env-example"
  name           = "example-3"
  type           = "prometheus"
  endpoint       = "http://xxxxx.xxx"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String) Target AutoMQ BYOC environment, this attribute is specified during the deployment and installation process.
- `name` (String) The integrated name identifies different configurations and contains 3 to 64 characters, including letters a to z or a to z, digits 0 to 9, underscores (_), and hyphens (-).
- `type` (String) Type of integration, currently support `kafka` and `cloudWatch`

### Optional

- `cloudwatch_config` (Attributes) CloudWatch integration configurations. When Type is `cloudwatch`, it must be set. (see [below for nested schema](#nestedatt--cloudwatch_config))
- `endpoint` (String) Endpoint of integration. When selecting Prometheus and Kafka integration, you need to configure the corresponding endpoints. For detailed configuration instructions, please refer to the [documentation](https://docs.automq.com/automq-cloud/manage-environments/byoc-environment/manage-integrations).
- `kafka_config` (Attributes) Kafka integration configurations. When Type is `kafka`, it must be set. (see [below for nested schema](#nestedatt--kafka_config))

### Read-Only

- `created_at` (String)
- `id` (String) Integration identifier, Used for binding and association with the instance.
- `last_updated` (String)

<a id="nestedatt--cloudwatch_config"></a>
### Nested Schema for `cloudwatch_config`

Optional:

- `namespace` (String) Set cloudwatch namespace, AutoMQ will write all Metrics data under this namespace. The namespace name must contain 1 to 255 valid ASCII characters and may be alphanumeric, periods, hyphens, underscores, forward slashes, pound signs, colons, and spaces, but not all spaces.


<a id="nestedatt--kafka_config"></a>
### Nested Schema for `kafka_config`

Required:

- `sasl_mechanism` (String) SASL mechanism for external kafka cluster, currently support `PLAIN`, `SCRAM-SHA-256` and `SCRAM-SHA-512`
- `sasl_password` (String) SASL password for Kafka, The username and password are declared and returned when creating the kafka_user resource in AutoMQ.
- `sasl_username` (String) SASL username for Kafka, The username and password are declared and returned when creating the kafka_user resource in AutoMQ.
- `security_protocol` (String) Security protocol for external kafka cluster, currently support `PLAINTEXT` and `SASL_PLAINTEXT`
